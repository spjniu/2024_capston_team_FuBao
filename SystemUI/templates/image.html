<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weight Balance Manager</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
</head>
<body>
  <br><br>
  <div class="container">
    <div class="col text-center">
      <h2>Uploaded Image</h2>
      <img src="{{ url_for('static', filename='captured_videos/output_' + uploaded_video_filename) }}" alt="Uploaded Image">
      <br><br>
      
      <button type="button" class="btn btn-outline-danger btn-lg" onclick="quit()">Quit</button><br><br>
      <button class="btn btn-danger" type="button" onclick="location.href='/index2'">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/>
          <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/>
        </svg>
        back
      </button>
    </div>
  </div>

  <script>
    function sendSignal(signalType) {
      const xhr = new XMLHttpRequest();
      xhr.open("POST", "http://127.0.0.1:8080/send_signal", true);
      xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          const response = JSON.parse(xhr.responseText);
          console.log('Signal sent:', response);
        }
      };
      xhr.send(JSON.stringify({ signal: signalType }));
    }

    function quit() {
      sendSignal('quit'); 
      location.href = '/'; 
    }


  </script>
</body>
</html>
